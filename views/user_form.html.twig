{% extends 'layout.html.twig' %}
{% set adminMenu = true %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h2 class="text-center text-primary mb-4">{{ block('title') }}</h2>

{% for flashMessage in app.session.flashbag.get('success') %}
<div class="alert alert-success">
    {{ flashMessage }}
</div>
{% endfor %}

{% if form_errors(userForm.password.first) %}
<div class="alert alert-danger">
    {{ form_errors(userForm.password.first) }}
</div>
{% endif %}

<div class="card shadow-sm" style="max-width: 600px; margin: 0 auto; --bs-card-spacer-y: 2rem;">
    <div class="card-header bg-dark text-white py-3">
        <h5 class="mb-0">Ajout d'un utilisateur</h5>
    </div>
    <div class="card-body">
        {{ form_start(userForm, { 'attr': {'class': 'row g-3'} }) }}

        <div class="mb-3 row">
            {{ form_label(userForm.username, null, { 'label_attr': { 'class': 'col-md-5 col-form-label' } }) }}
            <div class="col-md-6">
                {{ form_errors(userForm.username) }}
                {{ form_widget(userForm.username, { 'attr': { 'class': 'form-control' } }) }}
            </div>
        </div>

        <div class="mb-3 row">
            {{ form_label(userForm.password.first, null, { 'label_attr': { 'class': 'col-md-5 col-form-label' } }) }}
            <div class="col-md-6">
                {{ form_widget(userForm.password.first, { 'attr': { 'class': 'form-control' } }) }}
            </div>
        </div>

        <div class="mb-3 row">
            {{ form_label(userForm.password.second, null, { 'label_attr': { 'class': 'col-md-5 col-form-label' } }) }}
            <div class="col-md-6">
                {{ form_widget(userForm.password.second, { 'attr': { 'class': 'form-control' } }) }}
            </div>
        </div>

        <div class="mb-3 row">
            <div class="offset-md-5 col-md-4">
                <button type="submit" class="btn btn-success">
                    <i class="bi bi-save"></i> Enregistrer
                </button>
            </div>
        </div>

        {{ form_end(userForm) }}
    </div>
</div>
{% endblock %}
